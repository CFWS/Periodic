var Point=function(a,c,b){this.x=a;this.y=c;this.z=b};var TableElement=function(d){this.Name=d.Name;this.Symbol=d.Symbol;this.Mass=d.Mass;this.Number=d["Atomic Number"];this.Classification=d.Classification;this.Group=d.Group;this.Period=d.Period;this.Location=d.Location;this.Shellconfiguration=d["Electron shell configuration"];this.Subshellconfiguration=d["Electron subshell configuration"];this.Ionenergy=d["Ionisation energy"];this.Roomstate=d["State at Room Temperature"];this.Boiling=d["Boiling Point"];this.Melting=d["Melting Point"];this.Isotopes=d.Isotopes;this.Discovered=d.Discovered;this.Description=d["Element Description"];var c=-(35+60*9)+this.Group*60;var b=-(10+5*70)+this.Period*70;var a=0;if(this.Number>=56+1&&this.Number<71+1){c=-(35+60*10)+(this.Number-52)*60;b=-(10+5*70)+8.3*70}if(this.Number>=88+1&&this.Number<103+1){c=-(35+60*10)+(this.Number-84)*60;b=-(10+5*70)+9.3*70}this.TableLocation=new Point(c,b,0);c=Math.floor(Math.random()*window.innerWidth-window.innerWidth/2);b=Math.floor(Math.random()*window.innerHeight-window.innerHeight/2);a=0;this.randomLocation=new Point(c,b,a)};TableElement.prototype.generateNewRandomPosition=function(){var a=Math.floor((Math.random()*3)+1);if(a===1){this.randomLocation.x=Math.floor(Math.random()*window.innerWidth-window.innerWidth/2)}else{if(a===2){this.randomLocation.y=Math.floor(Math.random()*window.innerHeight-window.innerHeight/2)}else{if(a===3){this.randomLocation.z=Math.floor(Math.random()*window.innerHeight*2-window.innerHeight/2*2)}}}};var App=function(){this.elementArray=[];this.elements=document.querySelectorAll(".element");this.currentInfoPageElementNumber=1;this.currentHorizontalElementNumber=1;this.currentView="table";this.infoPageActivated=false;this.timerMove=null;this.initFinished=false;this.smallMode=false;var b;for(b=0;b<118;b++){this.elementArray.push(new TableElement(elementinfo[b]))}var c=document.querySelectorAll(".element");for(b=0;b<c.length;b++){this.linkInfo(c[b],b+1)}this.initprevnext();this.initHorizontal();this.initViewButtons();this.initKey();var a=this;window.onresize=function(){a.resizePage()};window.onorientationchange=function(){a.resizePage()}};App.prototype.getElement=function(a){return this.elementArray[a-1]};App.prototype.linkInfo=function(b,c){var a=this;b.onclick=function(){if(a.currentView==="horizontal"&&a.currentHorizontalElementNumber!==c){a.Horizontal(c,false);return}a.loadInfoPage(c,true)}};App.prototype.initViewButtons=function(){var a=this;document.getElementById("tableform").onclick=function(){if(a.currentView==="horizontal"){document.getElementById("eledes").className="hidebottompane"}else{if(a.currentView==="random"){window.clearInterval(a.timerMove)}}a.Table();window.setTimeout(function(){document.getElementById("ptablecontainer").className="show"},2000)};document.getElementById("movingform").onclick=function(){if(a.currentView==="horizontal"){document.getElementById("eledes").className="hidebottompane"}a.Random()};document.getElementById("horizontalform").onclick=function(){if(a.currentView==="random"){window.clearInterval(a.timerMove)}a.Horizontal(1,true);window.setTimeout(function(){document.getElementById("ptablecontainer").className="show"},2000)}};App.prototype.initprevnext=function(){var b=this.loadInfoPage.bind(this);var a=this;document.getElementById("prev").onclick=function(){b(a.currentInfoPageElementNumber-1)};document.getElementById("next").onclick=function(){b(a.currentInfoPageElementNumber+1)};document.getElementById("closewindow").onclick=function(){document.getElementById("ptablecontainer").className="show";document.getElementById("infocontainer").style.marginLeft="-9999px";a.infoPageActivated=false}};App.prototype.initHorizontal=function(){var a=this;document.getElementById("hprev").onclick=function(){a.Horizontal(a.currentHorizontalElementNumber-1,false)};document.getElementById("hnext").onclick=function(){a.Horizontal(a.currentHorizontalElementNumber+1,false)}};App.prototype.initIntro=function(){if(this.smallMode){return}var e,d,b,a;for(e=0;e<this.elements.length;e++){d=(Math.floor(Math.random()*9999-9999/2));b=(Math.floor(Math.random()*9999-9999/2));a=(Math.floor(Math.random()*9999*2-9999/2*2));this.elements[e].style.transform="translate3d("+d+"px,"+b+"px,"+a+"px)";this.elements[e].style.transitionDuration="0s"}var c=this;window.setTimeout(function(){c.Table("5s")},20);window.setTimeout(function(){c.initFinished=true},5000)};App.prototype.Random=function(d){d=d||"5s";if(this.initFinished===false){return}if(this.currentView!=="random"){this.currentView="random"}document.getElementById("ptablecontainer").className="show perspective";var a=this;window.clearInterval(this.timerMove);this.timerMove=window.setTimeout(function(){a.Random()},5000);var b,c;for(b=0;b<this.elements.length;b++){this.elementArray[b].generateNewRandomPosition();c=this.elementArray[b].randomLocation;this.elements[b].style.transform="translate3d("+c.x+"px,"+c.y+"px,"+c.z+"px)";this.elements[b].style.transitionDuration=d}};App.prototype.Table=function(c){c=c||"2s";if(this.currentView!=="table"){this.currentView="table"}this.currentView="random";var a,b;for(a=0;a<this.elements.length;a++){b=this.elementArray[a].TableLocation;this.elements[a].style.transform="translate3d("+b.x+"px,"+b.y+"px,0)";this.elements[a].style.transitionDuration=c}};App.prototype.Horizontal=function(a,h){this.currentView="horizontal";this.currentHorizontalElementNumber=a;if(h){document.getElementById("eledes").className="showbottompane"}var f=this.elements;var c=a*-61,b=100,g=1;var e="0.1s";var d;for(d=0;d<f.length;d++){c=c+60;if(d+1===a){b=-100;g=3;e="0.5s"}else{g=1;b=100}f[d].style.transform="translate3d("+c+"px,"+b+"px,0) scale("+g+")";if(h===true){e="2s"}f[d].style.transitionDuration=e}if(this.getElement(a).Description===""){document.getElementById("eledesinfo").innerHTML="Element description not done yet."}else{document.getElementById("eledesinfo").innerHTML=this.getElement(a).Description}if(a>1){document.getElementById("hprev").innerHTML="Previous Element ("+this.getElement(a-1).Name+")"}else{document.getElementById("hprev").innerHTML=""}if(a<118){document.getElementById("hnext").innerHTML="Next Element ("+this.getElement(a+1).Name+")"}else{document.getElementById("hnext").innerHTML=""}};App.prototype.loadInfoPage=function(a,d){d=d||false;this.currentInfoPageElementNumber=a;if(!this.infoPageActivated){if(this.currentView==="random"&&this.smallMode===false){document.getElementById("ptablecontainer").className="hide perspective";this.Table();window.clearInterval(this.timerMove)}if(!this.smallMode){document.getElementById("ptablecontainer").className="hide"}document.getElementById("infocontainer").style.marginLeft="0px"}this.infoPageActivated=true;if(this.smallMode){document.getElementById("ptablecontainer").className="show";document.getElementById("infocontainer").style.opacity=0;document.getElementById("infocontainer").style.opacity=1;if(d===true){window.scrollTo(0,document.getElementById("infocontainer").offsetTop)}}var c=this.getElement(a);document.getElementById("elementsym").innerHTML=c.Symbol;document.getElementById("symbol").innerHTML="Symbol: "+c.Symbol;document.getElementById("elename").innerHTML="Name: "+c.Name;document.getElementById("elenumber").innerHTML="Atomic Number: "+c.Number;document.getElementById("elemass").innerHTML="Mass: "+c.Mass;document.getElementById("eleclassification").innerHTML="Classification: "+c.Classification;document.getElementById("elelocation").innerHTML="Location: Group "+c.Group+", Period "+c.Period+", "+c.Location;document.getElementById("eleshellconfig").innerHTML="Electron Shell Configuration: "+c.Shellconfiguration;document.getElementById("elesubshellconfig").innerHTML="Electron subshell configuration: "+c.Subshellconfiguration;document.getElementById("eleionisation").innerHTML="Ionisation energy: "+c.Ionenergy;document.getElementById("elestate").innerHTML="State at Room Temperature: "+c.Roomstate;document.getElementById("eleboiling").innerHTML="Boiling Point: "+c.Boiling;document.getElementById("elemelting").innerHTML="Melting Point: "+c.Melting;document.getElementById("eleisotopes").innerHTML="Isotopes: "+c.Isotopes;document.getElementById("elediscovery").innerHTML="Discovered: "+c.Discovered;document.getElementById("elementdescription").innerHTML="Element Description: "+c.Description;if(c.Group===undefined||c.Group===null){document.getElementById("elelocation").innerHTML="Location: Group None, Period "+c.Period+", "+c.Location}if(c.Mass===undefined){document.getElementById("elemass").innerHTML="Mass: "}if(c.Number>1){document.getElementById("prev").innerHTML="Previous Element ("+this.getElement(c.Number-1).Name+")"}else{document.getElementById("prev").innerHTML=""}if(c.Number<118){document.getElementById("next").innerHTML="Next Element ("+this.getElement(c.Number+1).Name+")"}else{document.getElementById("next").innerHTML=""}document.getElementById("webelements").href="http://www.webelements.com/"+c.Name.toLowerCase();document.getElementById("chemicool").href="http://www.chemicool.com/elements/"+c.Name.toLowerCase();document.getElementById("rsc").href="http://www.rsc.org/periodic-table/element/"+c.Number;var b=("00"+c.Number).slice(-3);document.getElementById("jlab").href="http://education.jlab.org/itselemental/ele"+b+".html";document.getElementById("photographic").href="http://periodictable.com/Elements/"+b};App.prototype.resizePage=function(){var a=document.querySelectorAll(".element");var f=0;if(window.innerWidth<=480){this.smallMode=true;window.clearInterval(this.timerMove);document.getElementById("ptablecontainer").removeAttribute("style");document.getElementById("ptablecontainer").className="show";document.getElementById("infocontainer").style.marginLeft="0";document.getElementById("infocontainer").removeAttribute("style");document.getElementById("infocontainer").style.height="100%";for(f=0;f<a.length;f++){a[f].removeAttribute("style");a[f].style.transitionDuration="0s"}if(this.currentView==="horizontal"){this.currentView="table";document.getElementById("eledes").className="hidebottompane"}this.loadInfoPage(1)}else{var j=window.innerHeight,e=window.innerWidth;var h=720,k=1320;var b=j/h;var g=e/k;var l;if(b>g){l=g}else{l=b}l=Math.round(l*100)/100;document.getElementById("infocontainer").removeAttribute("style");document.getElementById("infocontainer").style.marginLeft="-9999px";document.getElementById("infocontainer").className="hide";if(document.getElementById("ptablecontainer").className.includes("show")===false){document.getElementById("ptablecontainer").className="show"}this.infoPageActivated=false;var d=document.getElementById("ptablecontainer");var c="scale("+l+","+l+")";d.style.webkitTransform=c;d.style.Transform=c;d.style.MozTransform=c;d.style.msTransform=c;if(this.smallMode===true){this.smallMode=false;this.initFinished=false;this.initIntro()}}};App.prototype.initKey=function(){var a=this;window.onkeydown=function(b){if(navigator.userAgent.match("Mozilla")){if(b.keyCode===37||b.keyCode===38||b.keyCode===39||b.keyCode===40||b.keyCode===33||b.keyCode===34){if(a.smallMode===false){b.preventDefault()}}}if(a.infoPageActivated===true){if(b.keyCode===27){document.getElementById("infocontainer").style.marginLeft="-9999px";document.getElementById("infocontainer").className="hide";document.getElementById("ptablecontainer").className="show";a.infoPageActivated=false}else{if(b.keyCode===39&&a.currentInfoPageElementNumber<118){a.loadInfoPage(a.currentInfoPageElementNumber+1)}else{if(b.keyCode===37&&a.currentInfoPageElementNumber>1){a.loadInfoPage(a.currentInfoPageElementNumber-1)}}}}if(a.currentView==="horizontal"&&a.infoPageActivated===false){if(b.keyCode===39&&a.currentHorizontalElementNumber<118){a.Horizontal(a.currentHorizontalElementNumber+1,false)}else{if(b.keyCode===37&&a.currentHorizontalElementNumber>1){a.Horizontal(a.currentHorizontalElementNumber-1,false)}}}}};document.onreadystatechange=function(){if(document.readyState==="complete"){var b=new App();if(navigator.userAgent.match(/iPhone/i)||(navigator.userAgent.match(/iPod/i))){var a=document.createElement("link");a.type="text/css";a.href="assets/mobile.css";a.rel="stylesheet";document.getElementsByTagName("head")[0].appendChild(a);b.smallMode=true;b.loadInfoPage(1)}else{b.resizePage();b.initIntro()}}};