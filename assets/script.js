var Point=function(e,t,n){"use strict";this.x=e,this.y=t,this.z=n},TableElement=function(e){"use strict";this.Name=e.Name,this.Symbol=e.Symbol,this.Mass=e.Mass,this.Number=e["Atomic Number"],this.Classification=e.Classification,this.Group=e.Group,this.Period=e.Period,this.Location=e.Location,this.Shellconfiguration=e["Electron shell configuration"],this.Subshellconfiguration=e["Electron subshell configuration"],this.Ionenergy=e["Ionisation energy"],this.Roomstate=e["State at Room Temperature"],this.Boiling=e["Boiling Point"],this.Melting=e["Melting Point"],this.Isotopes=e.Isotopes,this.Discovered=e.Discovered,this.Description=e["Element Description"];var t=60*this.Group-575,n=70*this.Period-360;57<=this.Number&&this.Number<72&&(t=60*(this.Number-52)-635,n=221),89<=this.Number&&this.Number<104&&(t=60*(this.Number-84)-635,n=291),this.TableLocation=new Point(t,n,0),t=Math.floor(Math.random()*window.innerWidth-window.innerWidth/2),n=Math.floor(Math.random()*window.innerHeight-window.innerHeight/2),this.randomLocation=new Point(t,n,0)};TableElement.prototype.generateNewRandomPosition=function(){"use strict";var e=Math.floor(3*Math.random()+1);1===e?this.randomLocation.x=Math.floor(Math.random()*window.innerWidth-window.innerWidth/2):2===e?this.randomLocation.y=Math.floor(Math.random()*window.innerHeight-window.innerHeight/2):3===e&&(this.randomLocation.z=Math.floor(Math.random()*window.innerHeight*2-window.innerHeight/2*2))};var App=function(){"use strict";var e;for(this.elementArray=[],this.elements=document.querySelectorAll(".element"),this.currentInfoPageElementNumber=1,this.currentHorizontalElementNumber=1,this.currentView="table",this.infoPageActivated=!1,this.timerMove=null,this.initFinished=!1,this.smallMode=!1,e=0;e<118;e++)this.elementArray.push(new TableElement(elementinfo[e]));var t=document.querySelectorAll(".element");for(e=0;e<t.length;e++)this.linkInfo(t[e],e+1);this.initprevnext(),this.initHorizontal(),this.initViewButtons(),this.initKey();var n=this;window.onresize=function(){n.resizePage()},window.onorientationchange=function(){n.resizePage()}};App.prototype.getElement=function(e){"use strict";return this.elementArray[e-1]},App.prototype.linkInfo=function(e,t){"use strict";var n=this;e.onclick=function(){"horizontal"!==n.currentView||n.currentHorizontalElementNumber===t?n.loadInfoPage(t,!0):n.Horizontal(t,!1)}},App.prototype.initViewButtons=function(){"use strict";var e=this;document.getElementById("tableform").onclick=function(){"horizontal"===e.currentView?document.getElementById("eledes").className="hidebottompane":"random"===e.currentView&&window.clearInterval(e.timerMove),e.Table(),window.setTimeout(function(){document.getElementById("ptablecontainer").className="show"},2e3)},document.getElementById("movingform").onclick=function(){"horizontal"===e.currentView&&(document.getElementById("eledes").className="hidebottompane"),e.Random()},document.getElementById("horizontalform").onclick=function(){"random"===e.currentView&&window.clearInterval(e.timerMove),e.Horizontal(1,!0),window.setTimeout(function(){document.getElementById("ptablecontainer").className="show"},2e3)}},App.prototype.initprevnext=function(){"use strict";var e=this.loadInfoPage.bind(this),t=this;document.getElementById("prev").onclick=function(){e(t.currentInfoPageElementNumber-1)},document.getElementById("next").onclick=function(){e(t.currentInfoPageElementNumber+1)},document.getElementById("closewindow").onclick=function(){document.getElementById("ptablecontainer").className="show",document.getElementById("infocontainer").style.marginLeft="-9999px",t.infoPageActivated=!1}},App.prototype.initHorizontal=function(){"use strict";var e=this;document.getElementById("hprev").onclick=function(){e.Horizontal(e.currentHorizontalElementNumber-1,!1)},document.getElementById("hnext").onclick=function(){e.Horizontal(e.currentHorizontalElementNumber+1,!1)}},App.prototype.initIntro=function(){"use strict";if(!this.smallMode){var e,t,n,o;for(e=0;e<this.elements.length;e++)t=Math.floor(9999*Math.random()-4999.5),n=Math.floor(9999*Math.random()-4999.5),o=Math.floor(9999*Math.random()*2-9999),this.elements[e].style.transform="translate3d("+t+"px,"+n+"px,"+o+"px)",this.elements[e].style.transitionDuration="0s";var i=this;window.setTimeout(function(){i.Table("5s")},20),window.setTimeout(function(){i.initFinished=!0},5e3)}},App.prototype.Random=function(e){"use strict";if(e=e||"5s",!1!==this.initFinished){"random"!==this.currentView&&(this.currentView="random"),document.getElementById("ptablecontainer").className="show perspective";var t,n,o=this;for(window.clearInterval(this.timerMove),this.timerMove=window.setTimeout(function(){o.Random()},5e3),t=0;t<this.elements.length;t++)this.elementArray[t].generateNewRandomPosition(),n=this.elementArray[t].randomLocation,this.elements[t].style.transform="translate3d("+n.x+"px,"+n.y+"px,"+n.z+"px)",this.elements[t].style.transitionDuration=e}},App.prototype.Table=function(e){"use strict";var t,n;for(e=e||"2s","table"!==this.currentView&&(this.currentView="table"),this.currentView="random",t=0;t<this.elements.length;t++)n=this.elementArray[t].TableLocation,this.elements[t].style.transform="translate3d("+n.x+"px,"+n.y+"px,0)",this.elements[t].style.transitionDuration=e},App.prototype.Horizontal=function(e,t){"use strict";this.currentView="horizontal",this.currentHorizontalElementNumber=e,t&&(document.getElementById("eledes").className="showbottompane");var n,o=this.elements,i=-61*e,r=100,l=1,s="0.1s";for(n=0;n<o.length;n++)i+=60,n+1===e?(r=-100,l=3,s="0.5s"):(l=1,r=100),o[n].style.transform="translate3d("+i+"px,"+r+"px,0) scale("+l+")",!0===t&&(s="2s"),o[n].style.transitionDuration=s;""===this.getElement(e).Description?document.getElementById("eledesinfo").innerHTML="Element description not done yet.":document.getElementById("eledesinfo").innerHTML=this.getElement(e).Description,document.getElementById("hprev").innerHTML=1<e?"Previous Element ("+this.getElement(e-1).Name+")":"",document.getElementById("hnext").innerHTML=e<118?"Next Element ("+this.getElement(e+1).Name+")":""},App.prototype.loadInfoPage=function(e,t){"use strict";t=t||!1,this.currentInfoPageElementNumber=e,this.infoPageActivated||("random"===this.currentView&&!1===this.smallMode&&(document.getElementById("ptablecontainer").className="hide perspective",this.Table(),window.clearInterval(this.timerMove)),this.smallMode||(document.getElementById("ptablecontainer").className="hide"),document.getElementById("infocontainer").style.marginLeft="0px"),this.infoPageActivated=!0,this.smallMode&&(document.getElementById("ptablecontainer").className="show",document.getElementById("infocontainer").style.opacity=0,document.getElementById("infocontainer").style.opacity=1,!0===t&&window.scrollTo(0,document.getElementById("infocontainer").offsetTop));var n=this.getElement(e);document.getElementById("elementsym").innerHTML=n.Symbol,document.getElementById("symbol").innerHTML="Symbol: "+n.Symbol,document.getElementById("elename").innerHTML="Name: "+n.Name,document.getElementById("elenumber").innerHTML="Atomic Number: "+n.Number,document.getElementById("elemass").innerHTML="Mass: "+n.Mass,document.getElementById("eleclassification").innerHTML="Classification: "+n.Classification,document.getElementById("elelocation").innerHTML="Location: Group "+n.Group+", Period "+n.Period+", "+n.Location,document.getElementById("eleshellconfig").innerHTML="Electron Shell Configuration: "+n.Shellconfiguration,document.getElementById("elesubshellconfig").innerHTML="Electron subshell configuration: "+n.Subshellconfiguration,document.getElementById("eleionisation").innerHTML="Ionisation energy: "+n.Ionenergy,document.getElementById("elestate").innerHTML="State at Room Temperature: "+n.Roomstate,document.getElementById("eleboiling").innerHTML="Boiling Point: "+n.Boiling,document.getElementById("elemelting").innerHTML="Melting Point: "+n.Melting,document.getElementById("eleisotopes").innerHTML="Isotopes: "+n.Isotopes,document.getElementById("elediscovery").innerHTML="Discovered: "+n.Discovered,document.getElementById("elementdescription").innerHTML="Element Description: "+n.Description,void 0!==n.Group&&null!==n.Group||(document.getElementById("elelocation").innerHTML="Location: Group None, Period "+n.Period+", "+n.Location),void 0===n.Mass&&(document.getElementById("elemass").innerHTML="Mass: "),1<n.Number?document.getElementById("prev").innerHTML="Previous Element ("+this.getElement(n.Number-1).Name+")":document.getElementById("prev").innerHTML="",n.Number<118?document.getElementById("next").innerHTML="Next Element ("+this.getElement(n.Number+1).Name+")":document.getElementById("next").innerHTML="",document.getElementById("webelements").href="http://www.webelements.com/"+n.Name.toLowerCase(),document.getElementById("chemicool").href="http://www.chemicool.com/elements/"+n.Name.toLowerCase(),document.getElementById("rsc").href="http://www.rsc.org/periodic-table/element/"+n.Number;var o=("00"+n.Number).slice(-3);document.getElementById("jlab").href="http://education.jlab.org/itselemental/ele"+o+".html",document.getElementById("photographic").href="http://periodictable.com/Elements/"+o},App.prototype.resizePage=function(){"use strict";var e=document.querySelectorAll(".element"),t=0;if(window.innerWidth<=480){for(this.smallMode=!0,window.clearInterval(this.timerMove),document.getElementById("ptablecontainer").removeAttribute("style"),document.getElementById("ptablecontainer").className="show",document.getElementById("infocontainer").style.marginLeft="0",document.getElementById("infocontainer").removeAttribute("style"),document.getElementById("infocontainer").style.height="100%",t=0;t<e.length;t++)e[t].removeAttribute("style"),e[t].style.transitionDuration="0s";"horizontal"===this.currentView&&(this.currentView="table",document.getElementById("eledes").className="hidebottompane"),this.loadInfoPage(1)}else{var n,o=window.innerHeight/720,i=window.innerWidth/1320;n=i<o?i:o,n=Math.round(100*n)/100,document.getElementById("infocontainer").removeAttribute("style"),document.getElementById("infocontainer").style.marginLeft="-9999px",!(document.getElementById("infocontainer").className="hide")===document.getElementById("ptablecontainer").className.includes("show")&&(document.getElementById("ptablecontainer").className="show"),this.infoPageActivated=!1;var r=document.getElementById("ptablecontainer"),l="scale("+n+","+n+")";r.style.webkitTransform=l,r.style.Transform=l,r.style.MozTransform=l,r.style.msTransform=l,!0===this.smallMode&&(this.smallMode=!1,this.initFinished=!1,this.initIntro())}},App.prototype.initKey=function(){"use strict";var t=this;window.onkeydown=function(e){!0===t.infoPageActivated&&(27===e.keyCode?(document.getElementById("infocontainer").style.marginLeft="-9999px",document.getElementById("infocontainer").className="hide",document.getElementById("ptablecontainer").className="show",t.infoPageActivated=!1):39===e.keyCode&&t.currentInfoPageElementNumber<118?t.loadInfoPage(t.currentInfoPageElementNumber+1):37===e.keyCode&&1<t.currentInfoPageElementNumber&&t.loadInfoPage(t.currentInfoPageElementNumber-1)),"horizontal"===t.currentView&&!1===t.infoPageActivated&&(39===e.keyCode&&t.currentHorizontalElementNumber<118?t.Horizontal(t.currentHorizontalElementNumber+1,!1):37===e.keyCode&&1<t.currentHorizontalElementNumber&&t.Horizontal(t.currentHorizontalElementNumber-1,!1))}},document.onreadystatechange=function(){"use strict";if("complete"===document.readyState){var e=new App;if(navigator.userAgent.match(/iPhone/i)||navigator.userAgent.match(/iPod/i)){var t=document.createElement("link");t.type="text/css",t.href="assets/mobile.css",t.rel="stylesheet",document.getElementsByTagName("head")[0].appendChild(t),e.smallMode=!0,e.loadInfoPage(1)}else e.resizePage(),e.initIntro()}};